[Unit]
Description=Run Tosk Bot Docker Container
Requires=docker.service tosk-bot.pull
After=docker.service tosk-bot.pull

[Service]
Restart=always
ExecStartPre=-/usr/bin/docker rm -f tosk-bot
ExecStart=/usr/bin/docker run --name tosk-bot \
    --log-opt max-size=16m
    -e TOSK_BOT_TELEGRAM_API_TOKEN={telegram_api_token} \
    {dockerhub_username}/{docker_image}:{tag}
ExecStop=/usr/bin/docker stop tosk-bot

[Install]
WantedBy=multi-user.target
